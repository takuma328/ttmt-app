spring.application.name=TTMT

# ==========================================
# ★★★ データベース (TiDB Cloud) ★★★
# ==========================================
# Renderの環境変数から自動で読み込まれます
spring.datasource.url=jdbc:mysql://${DB_HOST}:${DB_PORT}/test?sslMode=VERIFY_IDENTITY&enabledTLSProtocols=TLSv1.2,TLSv1.3
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==========================================
# ★★★ JPA設定 ★★★
# ==========================================
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
# 本番でもテーブルを自動更新する設定
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Tokyo

# ==========================================
# ★★★ メール設定 (Gmail) ★★★
# ==========================================
# ★ここが重要！サーバーの住所を直接書きます（これで迷子になりません）
spring.mail.host=smtp.gmail.com
spring.mail.port=587

# ユーザー名とパスワードはRenderの環境変数から読み込みます
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}

# Gmail送信に必要な詳細設定
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.connectiontimeout=5000
spring.mail.properties.mail.timeout=5000
spring.mail.properties.mail.writetimeout=5000

# ==========================================
# ★★★ アプリ固有設定 ★★★
# ==========================================
# 送信元アドレスも環境変数と同じものを使います
app.mail.from=${MAIL_USERNAME}
app.mail.from-name=TTMT事務局
app.mail.enabled=true